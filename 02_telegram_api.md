


# 2. Hello, world!

## Виртуальное окружение

Виртуальное окружение (virtual environment) — это изолированная среда для проектов Python, которая позволяет управлять зависимостями проекта без конфликтов с другими проектами или глобальной установкой пакетов.

**Зачем нужны виртуальные окружения?**
- Изоляция зависимостей: Каждое виртуальное окружение имеет свой собственный набор установленных пакетов. Это предотвращает конфликты между различными проектами, которые могут использовать разные версии одних и тех же пакетов.
- Управление зависимостями:  Вы можете точно контролировать, какие пакеты и их версии установлены в каждом проекте, используя файлы requirements.txt.
- **Портативность**:  Виртуальное окружение можно легко переносить на другие машины, просто скопировав его и установив необходимые пакеты из requirements.txt.
- Чистота глобальной среды:  Установка пакетов в виртуальное окружение не загрязняет глобальную среду Python, что делает её более чистой и управляемой.

Как создать виртуальное окружение:
1. Использование venv:

`python3 -m venv .venv`

Заменяем .venv на желаемое имя директории для виртуального окружения.

2. Активация виртуального окружения:

```
Linux/macOS:
source .venv/bin/activate

Windows:
.venv\Scripts\activate
```

После активации, в командной строке вы увидите имя виртуального окружения в скобках (например, (.venv) $).

3. Установка пакетов:

```
# Пример
pip install <package_name>

# Для установки библиотеки telebot
pip install pyTelegramBotAPI
```

4. Запись зависимостей в requirements.txt:

`pip freeze > requirements.txt`

5. Восстановление зависимостей из requirements.txt:

`pip install -r requirements.txt`

6. Деактивация виртуального окружения:

`deactivate`

**Пример использования:**

Представьте, что у вас два проекта: один использует Django 2.2, а другой — Django 3.2. Если вы установите оба фреймворка глобально, возникнет конфликт.

Вместо этого, вы создадите два виртуальных окружения:

Проект 1 (Django 2.2):
- Создать виртуальное окружение: `python3 -m venv .venv_project1`
- Активировать: `source .venv_project1/bin/activate`
- Установить Django 2.2: `pip install Django==2.2`

Проект 2 (Django 3.2):
- Создать виртуальное окружение: `python3 -m venv .venv_project2`
- Активировать: source `.venv_project2/bin/activate`
- Установить Django 3.2: `pip install Django==3.2`

Таким образом, каждый проект будет иметь свою изолированную среду с нужными версиями пакетов, и конфликтов не возникнет.

### Вывод:

Использование виртуальных окружений — это лучшая практика при разработке на Python. Оно позволяет избежать множества проблем, связанных с управлением зависимостями и обеспечивает чистоту вашей рабочей среды.

## 2.2 Купи слона 

Библиотека pyTelegramBotAPI — это популярная библиотека для создания Telegram-ботов на Python. Она проста в использовании и хорошо документирована. Давайте создадим простого эхо-бота с использованием этой библиотеки.

### Шаг 1: Установка библиотеки

Сначала установите библиотеку pyTelegramBotAPI. Вы можете сделать это с помощью pip:

`pip install pyTelegramBotAPI`
`pip install --proxy http://<>:<>@<>:<> pyTelegramBotAPI`

### Шаг 2: Создание бота в Telegram

Если вы еще этого не сделали, создайте бота через BotFather в Telegram и получите токен доступа.

### Шаг 3: Написание кода для эхо-бота

Теперь напишем код для простого эхо-бота:

```
import telebot

# Вставьте ваш токен сюда
TOKEN = 'YOUR_TELEGRAM_BOT_TOKEN'
bot = telebot.TeleBot(TOKEN)

# Функция для обработки команды /start
@bot.message_handler(commands=['start'])
def send_welcome(message):
    bot.reply_to(message, "Привет! Я эхо-бот. Напиши мне что-нибудь!")

# Функция для обработки текстовых сообщений
@bot.message_handler(func=lambda message: True)
def echo_all(message):
    bot.reply_to(message, message.text)

# Запуск бота
bot.polling()
```

### Шаг 4: Запуск бота

- Замените YOUR_TELEGRAM_BOT_TOKEN на токен, который вы получили от @BotFather
- Сохраните код в файл, например, `echo_bot.py`
- Запустите скрипт:

`python echo_bot.py`

### Шаг 5: Тестирование бота

Теперь откройте Telegram, найдите своего бота по имени и напишите ему сообщение. Бот должен ответить тем же текстом.

## Задание

Исправьте код нашего эхо-бота так, чтобы получилась игра "Купи слона".

### Что ещё сделать?

- Вы можете добавить больше команд, используя декораторы `@bot.message_handler(commands=['command_name'])`
- Можно обрабатывать различные типы сообщений (фото, видео и т.д.) и добавлять дополнительные функции, такие как кнопки или inline-меню.
- Изучите документацию библиотеки `pyTelegramBotAPI`, чтобы узнать о всех возможностях
